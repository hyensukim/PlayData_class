# 4.  λ””μμΈ ν¨ν„΄

λ””μμΈ ν¨ν„΄μ€ κ±΄μ¶• λ¶„μ•Όμ—μ„ μ λλμ—λ‹¤.

μ„¤κ³„κ³Όμ •μ—μ„ μμ£Ό λ°κ²¬λλ” κ²ƒλ“¤μ„ ν¨ν„΄ν™” μ‹μΌλ†“μ€ κ²ƒ.

ν¨μ¨μ μΈ μμ‚¬μ†ν†µμ— λ„μ›€μ΄ λκ³ , μ–΄λ–¤ λ¬Έμ λ¥Ό μ¶”ν›„μ— ν•΄κ²°ν•  λ• λ„μ›€μ΄ λ§μ΄ λλ‹¤.

λ‹¤λ§, λ””μμΈν¨ν„΄μ΄ λ§λ¥μΈ κ²ƒμ€ μ•„λ‹λΌ μ–΄λ–¤μƒν™©μ— μ–΄λ–¤ λ””μμΈν¨ν„΄μ„ μ“΄λ‹¤λ” λ£¨ν‹΄μ„ μµνλ”κ² μ¤‘μ”ν•λ‹¤.

## π‡ μ–΄λ‘ν„° ν¨ν„΄(Wrapper)

νΈν™λμ§€ μ•λ” μΈν„°νμ΄μ¤λ¥Ό κ°€μ§„ λ‘ κ°μ²΄κ°€ ν‘μ—…ν•  μ μλ„λ΅ ν•κΈ° μ„ν• κµ¬μ΅°μ  λ””μμΈ ν¨ν„΄.

![κ·Έλ¦Ό](https://raw.githubusercontent.com/hyensukim/PlayData_class/main/images/Adapter%20%ED%8C%A8%ED%84%B4.png)



μμ •μ΄ λ¶κ°€ν• μ™Έλ¶€ μ½”λ“(λΌμ΄λΈλ¬λ¦¬)λ¥Ό μ‘μ„±μ¤‘μΈ μ½”λ“μ—μ„ μ‚¬μ©ν•λ” μΈν„°νμ΄μ¤ νƒ€μ…κ³Ό λ™μΌν•κ² ν™μ©ν•κ³  μ‹¶μ„ λ• μ‚¬μ©ν•λ” λ””μμΈ ν¨ν„΄.

```
	μ‚¬μ©ν•λ” μΈν„°νμ΄μ¤ <- κµ¬ν„μ²΄1
	λΌμ΄λΈλ¬λ¦¬(μ™Έλ¶€ μ½”λ“) <- κµ¬ν„μ²΄2,3

μ‚¬μ©μκ°€ μ‚¬μ©μ¤‘μΈ μΈν„°νμ΄μ¤ μ™Έμ— λ³„λ„λ΅ λΌμ΄λΈλ¬λ¦¬λ¥Ό κµ¬ν„ν• κµ¬ν„μ²΄λ¥Ό λ”°λ΅ μ‚¬μ©ν•μ—¬μ•Ό ν•λ‹¤.

μ΄λ¥Ό 'μ–΄λ‘ν„°' ν΄λμ¤λ¥Ό μ΄μ©ν•μ—¬ ν¨ν„΄μΌλ΅ ν•λ‚λ΅ κ΄€λ¦¬κ°€ κ°€λ¥ν•λ‹¤.

```

```
public class FormatAdapter implements MediaPlayer {
    private MediaLibrary media;

    public FormatAdapter(MediaLibrary media){
        this.media = media;
    }

    @Override
    public void play(String fileName) {
        System.out.println("μ–΄λ‘ν„°λ¥Ό μ‚¬μ©ν•΄μ„ libraryλ¥Ό playerμ²λΌ λ³€ν™");
        media.playFile(fileName);
    }
}
```

μ„ μ½”λ“μ—μ„ λ§¤μ²΄ κ΄€λ ¨ λΌμ΄λΈλ¬λ¦¬λ¥Ό MediaPlayerλΌλ” μΈν„°νμ΄μ¤ νƒ€μ…μΌλ΅ ν•¨κ» μ‚¬μ©ν•κΈ° μ„ν•΄ μ–΄λ‘ν„° λΌλ” MediaPlayer κµ¬ν„μ²΄λ¥Ό μ •μν•λ‹¤.

μ •μν•  λ• ν•„λ“ κ°’μΌλ΅ λΌμ΄λΈλ¬λ¦¬ μΈν„°νμ΄μ¤ νƒ€μ…μ λ³€μ λ° μμ΅΄μ„ μ£Όμ… ν•΄μ¤€λ’¤, μΈν„°νμ΄μ¤ μ¶”μƒ λ©”μ„λ“ κµ¬ν„ μ‹, λ‚΄λ¶€μ μΌλ΅ λΌμ΄λΈλ¬λ¦¬μ—μ„ μ‚¬μ©λλ” λ©”μ„λ“λ¥Ό νΈμ¶ν•λ‹¤.

μ¦‰, MediaPlayerλΌλ” μΈν„°νμ΄μ¤μ— μ™Έλ¶€λΌμ΄λΈλ¬λ¦¬μ—μ„ μ‚¬μ©ν•  κΈ°λ¥λ“¤μ„ μ¶”μƒλ©”μ„λ“λ΅ μ •μν• λ’¤ λ‚΄λ¶€μ μΌλ΅ λΌμ΄λΈλ¬λ¦¬ μ κΈ°λ¥λ“¤μ„ νΈμ¶ν•μ—¬ κ΄€λ¦¬ν•λ„λ΅ μ§μ£Όλ©΄ μ™Έλ¶€ λΌμ΄λΈλ¬λ¦¬λ„ μ‚¬μ©μ¤‘μΈ μΈν„°νμ΄μ¤λ΅ μ‚¬μ©μ΄ κ°€λ¥ν•λ‹¤.(Wrapping)

> κ°„λµν• κµ¬ν„ λ°©λ²•

1. νΈν™λμ§€ μ•λ” μΈν„°νμ΄μ¤κ°€ μλ” ν΄λμ¤κ°€ μµμ† λ‘ κ° μ΄μƒμ΄ μλ”μ§€ ν™•μΈ.
2. ν΄λΌμ΄μ–ΈνΈ μΈν„°νμ΄μ¤λ¥Ό μ„ μ–Έν•κ³  ν΄λΌμ΄μ–ΈνΈ λ“¤μ΄ μ„λΉ„μ¤μ™€ ν†µμ‹ ν•λ” λ°©λ²•μ„ μ¶”μƒλ©”μ„λ“λ΅ κΈ°μ .
3. μ–΄λ‘ν„° ν΄λμ¤ μƒμ„± ν›„ ν΄λΌμ΄μ–ΈνΈ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„.
4. μ„λΉ„μ¤ κ°μ²΄μ— μ°Έμ΅°λ¥Ό μ €μ¥ν•κΈ° μ„ν•΄ μ–΄λ‘ν„° ν΄λμ¤μ— ν•„λ“λ¥Ό μ¶”κ°€. μΌλ°μ μΌλ΅ μ‚¬μ©λλ” λ°©λ²•μ€ μƒμ„±μλ¥Ό ν†µν•΄ μ΄ ν•„λ“λ¥Ό μ΄κΈ°ν™” ν•λ” κ²ƒμ΄μ§€λ§, λ•λ•λ΅ μ–΄λ‘ν„°μ λ©”μ„λ“λ“¤μ„ νΈμ¶ μ‹ μ΄ ν•„λ“λ¥Ό μ–΄λ‘ν„°μ— μ „λ‹¬ν•λ” λ°©λ²•μ΄ λ” νΈλ¦¬ν•κΈ°λ„ ν•λ‹¤.
5. ν΄λΌμ΄μ–ΈνΈ μΈν„°νμ΄μ¤μ λ¨λ“  λ©”μ„λ“λ¥Ό μ–΄λ‘ν„° ν΄λμ¤μ—μ„ ν•λ‚μ”© κµ¬ν„. μ–΄λ‘ν„°λ” μΈν„°νμ΄μ¤ λλ” λ°μ΄ν„° ν•μ‹ λ³€ν™λ§ μ²λ¦¬ν•΄μ•Όν•λ©°, μ‹¤μ  μ‘μ—…μ λ€λ¶€λ¶„μ„ μ„λΉ„μ¤ κ°μ²΄μ— μ„μ„.
6. ν΄λΌμ΄μ–ΈνΈλ“¤μ€ ν΄λΌμ΄μ–ΈνΈ μΈν„°νμ΄μ¤λ¥Ό ν† μ•» μ–΄λ‘ν„°λ¥Ό μ‚¬μ©ν•΄μ•Ό ν•λ‹¤. μ΄λ ‡κ² ν•λ©΄ '***ν΄λΌμ΄μ–ΈνΈ μ½”λ“μ— μν–¥μ„ λ―ΈμΉμ§€ μ•κ³  μ–΄λ‘ν„°λ“¤μ„ λ³€κ²½ν•κ±°λ‚  ν™•μ¥μ΄ κ°€λ¥***'ν•λ‹¤.

## π‡ νμ‚¬λ“ ν¨ν„΄

ν”„λ‘μ¤μ–΄μΈ κ±΄λ¬Όμ μ •λ©΄ μ¶μ…κµ¬λ¥Ό 'νμ‚¬λ“'λΌκ³  ν•λ‹¤.

λΌμ΄λΈλ¬λ¦¬, ν”„λ μ„μ›ν¬ λλ” λ‹¤λ¥Έ ν΄λμ¤λ“¤μ λ³µμ΅ν• μ§‘ν•©μ— λ€ν• λ‹¨μν™”λ μΈν„°νμ΄μ¤λ¥Ό μ κ³µν•λ” κµ¬μ΅°μ  λ””μμΈ ν¨ν„΄.

μλ¥Ό λ“¤μ–΄, ν•λ‚μ μ„λΉ„μ¤ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• μ—¬λ¬ μ„λΉ„μ¤ κµ¬ν„μ²΄κ°€ μλ‹¤κ³  κ°€μ •ν•  λ• μ—¬λ¬ κµ¬ν„μ²΄λ“¤μ λ©”μ„λ“λ¥Ό νΈμ¶ν•΄μ•Ό ν•  κ²½μ° ν΄λΌμ΄μ–ΈνΈ μΈ΅ μ½”λ“κ°€ κ°μ²΄ μƒμ„± λ° νΈμ¶λ΅ μΈν•΄ κΈΈμ–΄μ§€κ² λκ³ , μ΄λ΅ μΈν•΄ κ²°ν•©λ ¥μ΄ λ†’μ•„μ§€κ² λλ‹¤.

μ΄λ¥Ό λ°©μ§€ν•κΈ° μ„ν•΄, μ¤‘κ°„μ— facade ν΄λμ¤ κ°μ²΄λ¥Ό μ‚¬μ©ν•μ—¬ ν•΄λ‹Ή κΈ°λ¥μ„ ν•λ‚μ λ©”μ„λ“ μ•μ—μ„ νΈμ¶λλ„λ΅ κµ¬ν„ν•μ—¬ ν•μ¤„λ΅ μ¤„μ—¬ κ²°ν•©λ ¥μ„ μ¤„μ—¬μ¤€λ‹¤.

```
/* κΈ°μ΅΄ μ½”λ“ */
public class Client {
    // λμ–΄λ‚ μλ΅ ν΄λΌμ΄μ–ΈνΈ μ½ μ½”λ“λ¥Ό μμ •ν•μ—¬ κ°μ²΄λ¥Ό μ¶”κ°€ν•΄μ¤μ•Ό ν•λ‹¤.
    private static MessageSender[] senderList = {new KakaoSender(), new EmailSender(), new SmsSender()};
    private static SendMessageRepository sendMsRepo = new SendMessageRepository();
    public void someMethod(){
	// κΈ°μ΅΄μ— νΈμ¶λ¶€λ¶„μ΄ κΈΈκ³ , ν΄λμ¤ λ‚΄λ¶€μ— μ „μ—­λ³€μλ΅ μ„ μ–Έν•΄μ¤μ•Ό ν•λ‹¤.
        senderList[0].send();
        senderList[1].send();
        senderList[2].send();
        sendMsRepo.save();
    }
}


/* facade μ‚¬μ©ν• λ’¤ μ½”λ“ */
public class Client {
    // λμ–΄λ‚ μλ΅ ν΄λΌμ΄μ–ΈνΈ μ½ μ½”λ“λ¥Ό μμ •ν•μ—¬ κ°μ²΄λ¥Ό μ¶”κ°€ν•΄μ¤μ•Ό ν•λ‹¤.
    private static MessageSender[] senderList = {new KakaoSender(), new EmailSender(), new SmsSender()};
    private static SendMessageRepository sendMsRepo = new SendMessageRepository();
    public void someMethod(){

        //λ³µμ΅ν• νΈμ¶ λ΅μ§μ€ λ¨λ‘ ν΄λΌμ΄μ–ΈνΈ μΈ΅μ—μ„ μƒλµν•κ³  νμ‚¬λ“ ν΄λμ¤ ν•λ‚λ§ μƒμ„±
        SendMessageFacade sendMessageFacade = new SendMessageFacade();
        sendMessageFacade.sendSave();
    }
}
```

> κ°„λµν• κµ¬ν„ λ°©λ²•

1. κΈ°μ΅΄ ν•μ„μ‹μ¤ν…μ΄ μ΄λ―Έ μ κ³µν•κ³  μλ” κ²ƒλ³΄λ‹¤ λ” κ°„λ‹¨ν• μΈν…μ—γ…£μ¤λ¥Ό μ κ³µν•λ” κ²ƒμ΄ κ°€λ¥ν•μ§€ μ—¬λ¶€ ν™•μΈ.
2. μƒ νμ‚¬λ“ ν¨ν„΄ ν΄λμ¤μ—μ„ μ΄ μΈν„°νμ΄μ¤λ¥Ό μ„ μ–Έν•κ³  κµ¬ν„. μ΄ νμ‚¬λ“λ” ν΄λΌμ΄μ–ΈνΈ μ½”λ“μ νΈμ¶λ“¤μ„ ν•μ„ μ‹μ¤ν…μ μ μ ν• κ°μ²΄λ“¤λ΅ redirectionν•΄μ•Ό ν•λ‹¤.
3. νμ‚¬λ“ λ‚΄λ¶€μ—μ„ ν•μ„ μ‹μ¤ν…(κ°μ²΄)μ„ μ΄κΈ°ν™” ν•κ³  μλ… μ£ΌκΈ°λ¥Ό κ΄€λ¦¬ν•΄μ•Ό ν•λ‹¤.
4. νμ‚¬λ“ μμ²΄κ°€ λ„λ¬΄ μ»¤μ§ κ²½μ°, μƒλ΅­κ² μ •μ λ νμ‚¬λ“ ν΄λμ¤λ΅ μ¶”μ¶ν•λ„λ΅ ν•λ‹¤.
