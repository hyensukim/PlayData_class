# ğŸ† ë©”ì‹œì§€í/ ë¸Œë¡œì»¤ í™œìš©í•˜ê¸°

## ğŸ‡ ë©”ì‹œì§€íë€?

ì†Œí”„íŠ¸ì›¨ì–´ ì‹œìŠ¤í…œ ê°„ì˜ ë°ì´í„°ë¥¼ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì „ì†¡í•˜ëŠ”ë° ì‚¬ìš©ë˜ëŠ” ì¤‘ê°„ ë§¤ê°œì²´ì´ë‹¤.

ì¼ë°˜ì ìœ¼ë¡œ ë¶„ì‚° ì‹œìŠ¤í…œì—ì„œ ì‚¬ìš©ë˜ë©°, ì‹œìŠ¤í…œ ê°„ì˜ ê²°í•©ë„ë¥¼ ë‚®ì¶”ê³  í™•ì¥ì„±ì„ ë†’ì´ëŠ”ë° ë„ì›€ì„ ì¤€ë‹¤.

### ë©”ì‹œì§€í êµ¬ì„±ìš”ì†Œ

- ë©”ì‹œì§€

ë©”ì‹œì§€ íë¥¼ í†µí•´ ì „ì†¡ë˜ëŠ” ë°ì´í„° ë‹¨ìœ„ì´ë‹¤. ë©”ì‹œì§€ëŠ” í…ìŠ¤íŠ¸, JSON, ë°”ì´ë„ˆë¦¬ ë“± ë‹¤ì–‘í•œ í˜•ì‹ìœ¼ë¡œ êµ¬ì„± ê°€ëŠ¥í•˜ë‹¤.


- í

ë©”ì‹œì§€ê°€ ì €ì¥ë˜ëŠ” ê³µê°„ì´ë‹¤. ì¼ë°˜ì ìœ¼ë¡œ FIFO ë°©ì‹ìœ¼ë¡œ ë™ì‘í•˜ë©°, ë¨¼ì € ë„ì°©í•œ ë©”ì‹œì§€ê°€ ë¨¼ì € ì²˜ë¦¬ëœë‹¤.


- ìƒì‚°ì

ë©”ì‹œì§€ë¥¼ ìƒì„±í•˜ê³  íì— ì „ì†¡í•˜ëŠ” ì—­í• ì„ í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ìƒˆë¡œìš´ ë ˆì½”ë“œë¥¼ ìƒì„±í•˜ê³  ì´ë¥¼ ë©”ì‹œì§€ë¡œ íì— ë³´ë‚¼ ìˆ˜ ìˆë‹¤.


- ì†Œë¹„ì

íì—ì„œ ë©”ì‹œì§€ë¥¼ ê°€ì ¸ì™€ì„œ ì²˜ë¦¬í•˜ëŠ” ì—­í• ì„ í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì†Œë¹„ìëŠ” ë©”ì‹œì§€ë¥¼ ì½ê³  ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•˜ê±°ë‚˜, íŠ¹ì • ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.


- ë¸Œë¡œì»¤

ë©”ì‹œì§€ í ì‹œìŠ¤í…œì„ ê´€ë¦¬í•˜ê³  ë©”ì‹œì§€ë¥¼ ì¤‘ê³„í•˜ëŠ” ì¤‘ê°„ ë§¤ê°œì²´ì´ë‹¤. ë¸Œë¡œì»¤ëŠ” ë‹¤ì–‘í•œ í”„ë¡œí† ì½œì„ í†µí•´ ìƒì‚°ìì™€ ì†Œë¹„ì ê°„ì˜ í†µì‹ ì„ ë„ì™€ì¤€ë‹¤.


### ë©”ì‹œì§€í ì¥ì 

1. ë¹„ë™ê¸° í†µì‹  : ìƒì‚°ìì™€ ì†Œë¹„ìëŠ” ë…ë¦½ì ìœ¼ë¡œ ì‘ë™í•˜ë©°, ì‹œê°„ì  ì œì•½ ì—†ì´ ë©”ì‹œì§€ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.
2. íƒ„ë ¥ì„±ê³¼ í™•ì¥ì„±: ì‹œìŠ¤í…œ ê°„ì˜ ê²°í•©ë„ê°€ ë‚®ì•„ì ¸, í•˜ë‚˜ì˜ ì‹œìŠ¤í…œì´ ì¥ì–˜ê°€ ë°œìƒí•˜ë”ë¼ë„ ë‹¤ë¥¸ ì‹œìŠ¤í…œì— ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•ŠëŠ”ë‹¤. ë˜í•œ, í•„ìš”ì— ë”°ë¼ ë¸Œë¡œì»¤ë‚˜ íë¥¼ í™•ì¥í•˜ì—¬ ì²˜ë¦¬ ëŠ¥ë ¥ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆë‹¤.
3. ë¹„ë™ê¸° ì²˜ë¦¬ì™€ íš¨ìœ¨ì„± : ì¼ë¶€ ì‘ì—…ì´ ì˜¤ëœ ì‹œê°„ì´ ê±¸ë¦¬ëŠ” ê²½ìš°, ë©”ì‹œì§€ íë¥¼ í†µí•´ ìƒì‚°ìëŠ” ë©”ì‹œì§€ë¥¼ ì „ì†¡í•œ ë’¤ ë‹¤ë¥¸ ì‘ì—…ì„ ê³„ì†í•  ìˆ˜ ìˆë‹¤. ì†Œë¹„ìëŠ” ë‚˜ì¤‘ì— ë©”ì‹œì§€ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.
4. ë°ì´í„° ë³µì œì™€ ì•ˆì •ì„±: ë©”ì‹œì§€ í ì‹œìŠ¤í…œì€ ì¼ë°˜ì ìœ¼ë¡œ ë©”ì‹œì§€ë¥¼ ì•ˆì „í•˜ê²Œ ì €ì¥í•˜ê³  ë³µì œí•˜ì—¬ ë°ì´í„° ì†ì‹¤ì„ ë°©ì§€í•œë‹¤.


> ëŒ€í‘œì ì¸ ë©”ì‹œì§€ í ì‹œìŠ¤í…œ

RabbitMQ, Apache Kafka, ActiveMQ, Redis ë“±ì´ ìˆë‹¤.


## ğŸ‡ RabbitMQ

### ë„ì»¤ë¥¼ í™œìš©í•œ ì„¤ì¹˜

```
docker run -d -p 15672:15672 -p 5672:5672 --name rabbitmq rabbitmq
```



ì„¤ì¹˜ í›„ ë ˆë¹—ì— í í”ŒëŸ¬ê·¸ì¸ì„ í™œì„±í™” ì‹œì¼œì£¼ëŠ” ì½”ë“œë¥¼ ì¶”ê°€í•´ì¤€ë‹¤.

```
docker exec rabbitmq rabbitmq-plugins enable rabbitmq_management
```


### guest ê³„ì •ìœ¼ë¡œ ì‚¬ìš©ë²• ì´í•´í•˜ê¸°

ê¸°ë³¸ìœ¼ë¡œ ì•„ì´ë””/ë¹„ë²ˆì€ guestì´ë‹¤.

ìœ„ê³„ì •ì€ ìµœì´ˆ admin ê³„ì •ì— í•´ë‹¹í•˜ê³ , ì¶”ê°€ë¡œ ê³„ì •ì„ ìƒì„±í•˜ê³  ì‹¶ìœ¼ë©´, ìƒë‹¨ nav ë°” ìš°ì¸¡ì— admin ì´ë¼ëŠ” í˜ì´ì§€ê°€ ìˆì–´ ìƒˆë¡œìš´ ê³„ì •ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.


### Producer, Consumer ê°œë… ì´í•´í•˜ê¸°

ProducerëŠ” ë©”ì‹œì§€ë¥¼ íì— publish í•´ì£¼ëŠ” ì—­í• ì„ í•œë‹¤.

ëŒ€ì‹œë³´ë“œì—ì„œëŠ” publishë¥¼ í†µí•´ ë©”ì‹œì§€ íì— ë©”ì‹œì§€ë¥¼ ì ì¬í•˜ì—¬ í™•ì¸ì´ ê°€ëŠ¥í•˜ë‹¤.

ê·¸ë¦¬ê³  ConsumerëŠ” íì— ì ì¬ëœ ë©”ì‹œì§€ë¥¼ êº¼ë‚´ì„œ ì†Œë¹„í•˜ëŠ” ì—­í• ì„ í•œë‹¤.

ëŒ€ì‹œë³´ë“œì—ì„œëŠ” getMessage ëª…ë ¹ì„ í†µí•´ êº¼ë‚¼ ìˆ˜ ìˆë‹¤.


### RabbitMQ ì‹¤ìŠµí•˜ê¸°

```
implementation 'org.springframework.boot:spring-boot-starter-amqp'
```


```
spring:
 rabbitmq:
  host: ipì£¼ì†Œ(VM_ì™¸ë¶€ ip / localhost)
  username: ê³„ì •ëª…
  password: ë¹„ë°€ë²ˆí˜¸
  port: í¬íŠ¸ë²ˆí˜¸(ê´€ë¦¬ì í˜ì´ì§€ìš© ë§ê³ )

```


#### ì—°ë™í•˜ê¸°

##### Producer

```
public class Producer{
	private RabbitTemplate rabbitTemplate;
	// objectMapperë¡œ ê°ì²´ ì§ë ¬í™”(ê°ì²´ â†’ String)
	rabbitTemplate.convertAndSend("í ì´ë¦„", ì „ì†¡í•  ë°ì´í„°);
}
```


##### Consumer

```
public class Consumer{

	@RabbitListener(queues = "í ì´ë¦„")
	public void ë©”ì„œë“œëª…(String message){
	// ë³´í†µ objectMessageë¥¼ ì´ìš©í•´ ì—­ì§ë ¬í™”í•¨
	}
}
```
